H.util.eval("M.prototype.C=ca(0,function(a){var b=this.c,c,d=this;a!==x?(B(a,ng,M.prototype.C,0),c=a):c=ug;c!==b&&b.wa(function(a,b,g){return d.l(a)?(c.add(a,b,g),!0):!1});this.c=c});function T(a,b,c,d,e,f){if(a&&b)this.Zb(a),this.zb(b),this.bb(c),this.m(e),this.l(f),this.tc(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}q(\"H.service.Url\",T);\nfunction pl(a,b){var c=a,d=w.document,e,f,g,h,k=d&&d.createElement(\"a\"),l=\"\";d?(b&&(f=(e=d.getElementsByTagName(\"base\")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement(\"base\")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);g=k;h=h&&0<h.length?h.substr(1):\"\";var k=\n{},m;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;m=l.exec(e);)k[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new T(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):\"\")}T.parse=pl;var ql=0;T.prototype.clone=function(){ql++;var a={},b;for(b in this.b)a[b]=this.b[b];return new T(this.j,this.f,this.a,a,this.g,this.c)};T.prototype.clone=T.prototype.clone;\nT.prototype.Zb=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.j=a;return this};T.prototype.setScheme=T.prototype.Zb;T.prototype.C=function(){return this.j};T.prototype.getScheme=T.prototype.C;T.prototype.zb=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.f=a;return this};T.prototype.setHost=T.prototype.zb;\nT.prototype.u=function(){return this.f};T.prototype.getHost=T.prototype.u;T.prototype.bb=function(a){this.a=a||void 0;return this};T.prototype.setPath=T.prototype.bb;T.prototype.s=function(){return this.a};T.prototype.getPath=T.prototype.s;T.prototype.tc=function(a){if(a)if(\"object\"==typeof a)this.b=a;else throw Error('Parameter \"params\" must be an object.');else this.b={};return this};T.prototype.setQuery=T.prototype.tc;T.prototype.i=function(){return!rl(this)};T.prototype.hasQuery=T.prototype.i;\nT.prototype.A=function(){return this.b};T.prototype.getQuery=T.prototype.A;T.prototype.m=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.g=+a||void 0;return this};T.prototype.setPort=T.prototype.m;T.prototype.B=function(){return this.g};T.prototype.getPort=T.prototype.B;T.prototype.l=function(a){this.c=a||void 0;return this};T.prototype.setAnchor=T.prototype.l;T.prototype.o=function(){return this.c};T.prototype.getAnchor=T.prototype.o;\nT.prototype.W=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');var b=this.b,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};T.prototype.mergeQuery=T.prototype.W;T.prototype.pa=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.zb(a+\".\"+this.f)};T.prototype.addSubDomain=T.prototype.pa;\nT.prototype.S=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.bb((this.a?this.a+\"/\":\"\")+a)};T.prototype.addSubPath=T.prototype.S;T.prototype.toString=function(){return[this.j+\"://\",this.f,this.g?\":\"+this.g:\"\",this.a||!rl(this)||this.c?\"/\":\"\",this.a?encodeURI(this.a):\"\",sl(this),this.c?\"#\"+encodeURIComponent(this.c):\"\"].join(\"\")};T.prototype.toString=T.prototype.toString;\nfunction sl(a){var b=[],c,d=a.b,e;for(c in d)d.hasOwnProperty(c)&&\"function\"!==typeof d[c]&&(e=a.b[c],b.push(encodeURIComponent(c)+(void 0===e?\"\":\"=\"+encodeURIComponent(e))));return 0<b.length?\"?\"+b.join(\"&\"):\"\"}function rl(a){var b,c=0;for(b in a.b)if(a.b.hasOwnProperty(b)&&\"function\"!==typeof a.b[b]&&(c++,0<c))break;return!c};function tl(a){function b(b){d.removeChild(e);l&&clearTimeout(l);delete tl.a[f];b&&a.Jc&&a.Jc.call(k,b)}if(!a.url||!a.ac)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.ac)throw Error(\"Parmaters options.callback must be a function\");var c=a.Th||document,d=c.getElementsByTagName(\"head\")[0],e=c.createElement(\"script\"),c=a.url instanceof T?a.url:pl(a.url,a.Sh),f=tl.c++,g=a.bd||\"callback\",h=a.ac,k={},l=null;k.id=f;k.cancel=function(){b(\"cancelled\")};\n0!==a.timeout&&(l=setTimeout(function(){b(\"timeout\")},a.timeout||3E4));tl.a[f]=function(a){b();h.call(k,a)};e.type=\"text/javascript\";e.src=c.toString()+(c.i()?\"&\":\"?\")+g+\"=\"+(a.Me?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}q(\"H.service.jsonp\",tl);tl.b=function(a){return(a=tl.a[a])?a:function(){}};tl.handleResponse=tl.b;tl.c=0;tl.a={};function ul(a){a=a||{};this.j=a.subDomain;this.a=a.path;this.l=a.callbackKey;this.f=a.baseUrl}q(\"H.service.AbstractRestService\",ul);ul.prototype.g=function(a,b,c,d,e){this.c=(e||this.f).clone();this.j&&this.c.pa(this.j);this.a&&this.c.bb(this.a);c&&this.c.Zb(\"https\");return this};ul.prototype.configure=ul.prototype.g;ul.prototype.Z=function(){return this.c};\nfunction vl(a,b,c,d){if(!ra(c))throw Error(\"onResult callback needed\");if(!ra(d))throw Error(\"onError callback needed\");return tl({url:b,ac:function(a){c(a)},Jc:function(a){d(Error(\"[\"+a+\"] \"+b+\" request failed\"))},bd:a.l})};function V(a){a=wl(xl,a);this.s(a.baseUrl);this.g(a.useCIT);this.j(a.useHTTPS);yl(this,a.app_id,a.app_code);this.b={}}q(\"H.service.Platform\",V);function yl(a,b,c){a.l=b;a.i=c;a.f.W({app_id:b,app_code:c})}V.prototype.a=function(a){if(a.configure)return a.configure(this.l,this.i,this.A,this.B,this.f);throw Error(\"Object is not configurable\");};V.prototype.configure=V.prototype.a;V.prototype.j=function(a){this.A=a;this.f.Zb(a?\"https\":\"http\")};V.prototype.setUseHTTPS=V.prototype.j;\nV.prototype.g=function(a){this.B=a;this.f.zb((a?\"cit.\":\"\")+this.C)};V.prototype.setUseCIT=V.prototype.g;V.prototype.s=function(a){this.C=a.f;this.f=a=a.clone();a.W({xnlp:\"CL_JSMv3.\"+xk().version});this.g(this.B);this.j(this.A);yl(this,this.l,this.i)};V.prototype.setBaseUrl=V.prototype.s;V.prototype.I=function(){return this.f};V.prototype.getBaseUrl=V.prototype.I;var xl={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new T(\"http\",\"api.here.com\")};\nq(\"H.service.setOptions\",function(a,b){xl[a]=b});q(\"H.service.getOptions\",function(a){return xl[a]});function wl(a,b){var c={},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function zl(a){a=wl(xl.trafficIncidents,a);a.callbackKey=\"jsoncallback\";zl.v.constructor.call(this,a)}v(zl,ul);q(\"H.service.TrafficIncidentsService\",zl);zl.prototype.i=function(a,b,c){a=this.Z().clone().S(\"incidents.json\").W(a);return vl(this,a,b,c)};zl.prototype.requestIncidents=zl.prototype.i;zl.prototype.b=function(a,b,c,d,e,f){a=this.Z().clone().S([\"incidents/json\",c,a,b].join(\"/\")).W(f||{});return vl(this,a,d,e)};zl.prototype.requestIncidentsByTile=zl.prototype.b;\nxl.trafficIncidents={subDomain:\"traffic\",path:\"traffic/6.1\"};V.prototype.o=function(){return this.a(new zl)};V.prototype.getTrafficIncidentsService=V.prototype.o;function Al(){this.Xe={}}function Bl(a){var b,c=a.boxes,d,e;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length))for(d=c[0],e=new E(d[0],d[1],d[2],d[3]),this.b.push(e),this.a=new E(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new E(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.mb(e,!1,this.a)}Bl.prototype.gc=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.b.length)&&this.a){if(this.a.gc(b))for(;c--;)if(this.b[c].gc(b))return!0}else return!0;return!1};function Cl(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var Dl=Function(\"return this\")();function El(a,b){function c(){k=Aa();ke.font=g;h=Math.round(ke.measureText(\"BESbswyMi\").width);-1===e.indexOf(h)?b():3E5<k-d?b(\"timeout\"):(l=50*++f,Dl.setTimeout(c,Math.min(l,d+3E5-k)))}var d=Aa(),e=Fl(),f=0,g=\"35px \"+a+\",\"+Gl.join(\",\"),h,k,l;-1!==Gl.indexOf(a)?b():Dl.setTimeout(c,50)}\nfunction Hl(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){El(a,c)})}var Gl=Pa(\"monospace serif\");function Fl(){var a=[];Gl.forEach(function(b){ke.font=\"35px \"+b;a.push(Math.round(ke.measureText(\"BESbswyMi\").width))});return a}function Il(a,b){var c=b||document,d=c.createElement(\"style\"),e;d.appendChild(c.createTextNode(\"\"));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Jl(){}\nJl.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||Dl.document.createElement(\"canvas\")};Jl.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Kl=new Jl;function Ll(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.Z().clone().S(b+\"/\"+a.sb()+\"/\"+c).W(f),l=a.i;this.service_=a;this.tileBaseUrl_=k;Pj.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.clone();l&&f.pa(l[(c+b+a)%l.length]);f.S(c+\"/\"+a+\"/\"+b+\"/\"+d+\"/\"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,\"\")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(\".\")[0];this.updateAndReload_=\nz(this.updateAndReload_,this);this.getCopyrights=this.xa;this.O=nc();a.addEventListener(\"versionupdate\",this.updateAndReload_)}v(Ll,Pj);Ll.prototype.MAX_STORE_TIME=2592E6;Ll.prototype.D=function(){Pj.prototype.D.call(this);this.service_.removeEventListener(\"versionupdate\",this.updateAndReload_)};Ll.prototype.xa=function(a,b){var c=this.service_.xa().Xe[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].gc(b,a)&&f.push(c[d]);return f};\nLl.prototype.updateAndReload_=function(){var a=this.service_;this.tileBaseUrl_=a.Z().clone().S(this.tileType_+\"/\"+a.sb()+\"/\"+this.scheme_).W(this.params_);this.i(!1)};Ll.prototype.Bc=function(){return this.O};q(\"H.service.MapTileProvider.prototype.canStore\",Ll.prototype.Bc);Ll.prototype.s=function(){return this.Bc()?mc():M.prototype.s.call(this)};q(\"H.service.MapTileProvider.prototype.getStorage\",Ll.prototype.s);function Ml(a){a=wl(xl.maptile,a);F.call(this);this.f=a.baseUrl;this.a=a.path;this.u=a.subDomain;this.i=a.shards;this.la=(this.B=!!a.ignoreTypes)?null:a.type;this.j=a.version;this.m=new Al;this.o={};this.ed=0}v(Ml,F);q(\"H.service.MapTileService\",Ml);function Nl(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nMl.prototype.g=function(a,b,c,d,e){this.c=(this.f||e).clone();this.u&&this.c.pa(this.u);this.la&&this.c.pa(this.la);this.a&&this.c.bb(this.a);\"newest\"===this.j&&Ol(this);return this};Ml.prototype.configure=Ml.prototype.g;Ml.prototype.Z=function(){return this.c};Ml.prototype.C=function(){return this.la};Ml.prototype.getType=Ml.prototype.C;Ml.prototype.sb=function(){return this.j};Ml.prototype.getVersion=Ml.prototype.sb;\nMl.prototype.xa=function(){this.ed||(this.j&&\"newest\"!==this.j||\"traffic\"===this.la)&&Pl(this);return this.m};Ml.prototype.getCopyrights=Ml.prototype.xa;\nfunction Ol(a){var b=a.Z().clone().S(\"info\").W({output:\"json\"});a.i&&b.pa(a.i[0]);tl({url:b,bd:\"callback_func\",ac:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,\"]\")).response;var d;Nl(b,\"map\");Nl(b,\"scheme\");Nl(b,\"tiletype\");Nl(b,\"format\");Nl(b,\"resolution\");Nl(b,\"language\");if(\"newest\"===a.j&&\"traffic\"!==a.la)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.j=b.maps[d].hash,a.dispatchEvent(\"versionupdate\"));a.l=b;a.dispatchEvent(\"infoupdate\")},Jc:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @ \"+\nb.toString());},Me:!0})}function Pl(a){var b=a.Z().clone().S(\"copyright\").S(a.sb()).W({output:\"json\"});a.i&&b.pa(a.i[0]);a.ed=1;tl({url:b,bd:\"callback_func\",ac:function(b){this.ed=2;b=JSON.parse(b);var d=a.m,e;for(e in b)if(b.hasOwnProperty(e))for(var f=b[e],g=d.Xe[e]||(d.Xe[e]=[]),h=void 0,k=f.length,h=0;h<k;h++)g.push(new Bl(f[h]));a.dispatchEvent(\"copyrightupdate\")},Jc:function(a){this.ed=-1;throw Error(\"[\"+a+\"]: Could not fetch copyrights from map tile service @\"+b.toString());},Me:!0})}\nMl.prototype.A=function(){return this.l};Ml.prototype.getInfo=Ml.prototype.A;Ml.prototype.s=function(a,b,c,d,e,f){var g;g=Cl(this.Z().clone().S(a+\"/\"+this.sb()+\"/\"+b+\"/\"+c+\"/\"+d).W(e?e:{}).toString());var h=this.o[g];h||(h=new Ll(this,a,b,c,d,e,f),this.o[g]=h);return h};Ml.prototype.createTileProvider=Ml.prototype.s;Ml.prototype.b=function(a,b,c,d,e,f,g,h){a=this.s(a,b,c,d,e,h);return new Gg(a,{opacity:f,dark:!!g})};Ml.prototype.createTileLayer=Ml.prototype.b;\nxl.maptile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};V.prototype.c=function(a){var b;b=wl(xl.maptile,a);var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=Cl(c);c=this.b[b];c||(c=this.a(new Ml(a)),this.b[b]=c);return c};V.prototype.getMapTileService=V.prototype.c;function Ql(a){this.f=a;this.Xa=this.a(\"general\",\"default\")||Rl;this.c=new ng(200)}Ql.prototype.b=function(a,b){for(var c,d,e,f,g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Ql.prototype.Ga=function(a,b){var c=this.a(\"spaceToGroup\",b);return Sl(this,a,c?c+\"\":void 0)};\nfunction Sl(a,b,c){var d,e,f;f=(b?b+\"_\":\"\")+(c?c:\"default\");d=a.Xa;(e=a.c.get(f))?d=e:(b&&c?(d=Sl(a,b,void 0),e=Sl(a,void 0,c),b=a.a(\"venues\",b,\"groups\",c),d=a.b({},a.Xa,d,e,b)):b&&!c?d=a.b({},a.Xa,a.a(\"venues\",b,\"default\")):!b&&c&&(d=a.b({},a.Xa,a.a(\"general\",\"groups\",c))),a.c.add(f,d,1));return d}Ql.prototype.a=function(a){for(var b=this.f,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Rl={space:{fillColor:\"rgba(198, 175, 255, .7)\",strokeColor:\"rgb(162, 141, 216)\",lineWidth:.5},spaceLabel:{fillColor:\"rgb(78,66,111)\"},floor:{fillColor:\"rgba(249, 244, 253, .7)\",strokeColor:\"rgba(255, 255, 255, .7)\",lineWidth:1}};function Tl(a,b,c,d,e,f,g,h){this.I=[];this.A={};Xj.call(this,a,b,c,d,e,f,g,h)}v(Tl,Xj);function Ul(){}Ul.prototype.Yb=function(){};q(\"H.service.remote.IObject.prototype.retain\",Ul.prototype.Yb);Ul.prototype.m=function(){};q(\"H.service.remote.IObject.prototype.release\",Ul.prototype.m);function Vl(a,b){var c={};this.M=a;Ca(c,b||c);Gj.call(this,c);this.Wb={};Wl(this)}v(Vl,Gj);q(\"H.service.remote.ObjectProvider\",Vl);Vl.prototype.J=function(){Gj.prototype.J.call(this)};function Wl(a){a=a.I(Fe.SPATIAL);a.c(a.a+1,Ce.ADD)}var Xl=[];Vl.prototype.m=function(){return Xl};Vl.prototype.requestMarkers=Vl.prototype.m;Vl.prototype.l=function(){return Xl};Vl.prototype.requestDomMarkers=Vl.prototype.l;Vl.prototype.j=re;Vl.prototype.providesMarkers=Vl.prototype.j;Vl.prototype.g=re;\nVl.prototype.providesDomMarkers=Vl.prototype.g;Vl.prototype.o=function(){return!0};Vl.prototype.providesSpatials=Vl.prototype.o;Vl.prototype.u=function(){return Xl};Vl.prototype.requestSpatials=Vl.prototype.u;function Yl(a){return a.getVisibility(!0)}Vl.prototype.c=function(a,b){var c=Zl(this,a,$l);b&&(c=c.filter(Yl));return c};Vl.prototype.requestSpatialsByTile=Vl.prototype.c;function Zl(a,b,c){var d=b.j&&b.j[c],e;!d&&(e=b.o)&&(delete b.o,(b.j=a=a.M.parse(a,b,e))&&(d=a[c]));return d||Xl}\nVl.prototype.R=function(a){var b=a.qa();if(this.Wb[b])throw new bc(this.R,\"Remote object \"+b+\" already added\");return this.Wb[b]=a};Vl.prototype.a=function(a){delete this.Wb[a.qa()]};var $l=\"spatials\";function am(a,b,c){Vl.call(this,b,c);this.b=a;this.responseQueue_=[];bm(this.b)||(this.Dd=z(this.Dd,this),this.b.addEventListener(\"statechange\",this.Dd));this.s=a.u;this.f=0;this.B={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=z(this.c,this)}v(am,Vl);am.prototype.O=function(a,b,c,d){this.Qe?this.ig.apply(this,arguments):d||this.responseQueue_.push({xh:a,response:c,Vg:b});d&&(a.A[b]=!0)};function cm(a){return a.getVisibility(!0)}\nam.prototype.c=function(a,b,c){var d;this.pg||dm(this);d=a.a;b&&(d=d.filter(cm));if(!c){b=this.f;var e,f,g,h;if(!a.A[b]&&bm(this.b)){e=this.b.Z();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.clone().S(\"0/tiles-ia\").S(\"L\"+b).S(h+\".json\");this.s&&e.pa(this.s[(c+f+g)%this.s.length]);c=new Yg(\"text/plain\",e.toString());c.then(z(this.O,this,a,b),jc);a.A[b]=!0}a.A[this.f]=!0}a.i&&(d=d.concat(a.i),delete a.i);return d};\nq(\"H.service.venues.ObjectProvider.prototype.requestSpatialsByTile\",am.prototype.c);p=am.prototype;p.sc=function(a){var b,c,d;for(b in this.Wb)for(c in d=this.Wb[b].F,d)d[c].sc(a);Wl(this);jg(this);this.f=a};p.ig=function(a,b,c,d){if(!d&&(this.B.floorLevel=b,b=(b=this.M.parse(this,a,c,this.B))&&b.spatials))for(a.i=a.i?a.i.concat(b):b,a=b.length;a--;)b[a].ta(Ce.ADD)};p.Dd=function(){bm(this.b)&&(em(this),this.b.removeEventListener(\"statechange\",this.Dd))};\nfunction em(a){bm(a.b)&&a.Qe&&a.dispatchEvent(\"reload\")}function dm(a){a.pg=!0;fm(a,function(b,c){c?a.dispatchEvent(\"error\"):(a.B.styler=b,gm(a,z(a.oh,a)))})}p.oh=function(a){a?this.dispatchEvent(\"error\"):(this.responseQueue_.forEach(function(a){this.ig(a.xh,a.Vg,a.response)},this),this.responseQueue_=null,this.Qe=!0,em(this))};p.pg=!1;p.Qe=!1;function fm(a,b){(new Yg(\"application/json\",a.b.l.clone().S(\"styles/styles.json\").toString())).then(function(a){b(new Ql(a))},function(a){b(null,a)})}\nvar hm=0;\nfunction gm(a,b){var c=a.b.l.clone().S(\"fonts\"),d=document,e=[],f,g=[];2===hm?b():(im.forEach(function(a){g.push(\"nokiapuretext{name}_rg-webfont\".replace(\"{name}\",a))}),1!==hm&&(im.forEach(function(a,b){f=c.clone().S(g[b]);e.push('@font-face {font-family: \"nokiapuretext{name}_rg-webfont\";src: url(\"{url}.woff2\") format(\"woff2\"),url(\"{url}.woff\") format(\"woff\"),url(\"{url}.ttf\") format(\"truetype\");font-weight: normal;font-style: normal;}'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.C=\nIl(e,d),hm=1),Hl(g,function(c){hm=c?0:2;c&&a.C&&we(a.C);b(c)}))}var im=Pa(\"inn2 dflt in insl as me\");function jm(a,b,c,d){Q.call(this,km(a));this.l=c;this.g=d;this.m={};this.Na=b;this.c=0}v(jm,Q);q(\"H.service.venues.Building\",jm);jm.prototype.qa=function(){return this.Na};jm.prototype.getId=jm.prototype.qa;jm.prototype.ga=function(){return this.va};jm.prototype.getVenue=jm.prototype.ga;jm.prototype.na=function(){return this.l};jm.prototype.getMinLevel=jm.prototype.na;jm.prototype.La=function(){return this.g};jm.prototype.getMaxLevel=jm.prototype.La;jm.prototype.Ma=function(){return this.c};\njm.prototype.getCurrentLevel=jm.prototype.Ma;jm.prototype.sc=function(a){var b,c,d;if(!isNaN(a)&&(b=this.l,c=this.g,a!==this.c))for(this.c=a;b<=c;b++)(d=this.m[b])&&d.setVisibility(b===a);return this.c};jm.prototype.Lc=function(a){return this.m[a]};jm.prototype.getFloor=jm.prototype.Lc;jm.prototype.O=function(a,b){this.l=Math.min(this.l,a);this.g=Math.max(this.g,b)};jm.prototype.adjustMinMaxLevels=jm.prototype.O;function lm(a,b){Q.call(this,km(a));this.F={};this.g=b;a.R(this)}v(lm,Q);q(\"H.service.venues.Venue\",lm);lm.prototype.I=function(a){return this.F[a]};lm.prototype.getBuilding=lm.prototype.I;lm.prototype.c=function(){return this.F};lm.prototype.getBuildings=lm.prototype.c;lm.prototype.qa=function(){return this.g};lm.prototype.getId=lm.prototype.qa;function mm(a,b,c,d){d=d||nm;this.Xb={};d.provider=a;this.invalidate=jc;mm.v.constructor.call(this,b,d);delete this.invalidate;c&&(this.g=c);this.ta(Ce.ADD)}v(mm,cf);q(\"H.service.remote.Spatial\",mm);var nm={};mm.prototype.qa=function(){return this.g||cf.prototype.qa.call(this)};mm.prototype.getId=mm.prototype.qa;mm.prototype.Yb=Function();mm.prototype.retain=mm.prototype.Yb;mm.prototype.m=Function();mm.prototype.release=mm.prototype.m;\nfunction om(a,b,c){this.b=a;c&&(this.c=c);0<=b&&(this.a=b)}om.prototype.a=-1;var pm=new om([]);mm.prototype.Qb=function(a){return(this.Xb[a.key]||pm).b};mm.prototype.getGeometry=mm.prototype.Qb;mm.prototype.ga=function(a){return(this.Xb[a.key]||pm).c};mm.prototype.getLabels=mm.prototype.ga;mm.prototype.na=function(a){return(this.Xb[a.key]||pm).a};mm.prototype.getHybridIdx=mm.prototype.na;function qm(a,b,c,d,e){a.Xb[b.key]=new om(c,d,e)};function rm(a,b,c){this.la=c&&c.type||\"\";mm.call(this,a,!0,b);this.f(c)}v(rm,mm);q(\"H.service.venues.Space\",rm);rm.prototype.l=function(){return this.la};rm.prototype.getType=rm.prototype.l;rm.prototype.c=function(){return\"floor/polygon\"===this.la};rm.prototype.isFloorSpace=rm.prototype.c;rm.prototype.b=function(a){a&&(this.Zg=new We(a))};rm.prototype.initLabelStyle=rm.prototype.b;rm.prototype.Lc=function(){var a=this.va;return this.isFloorSpace()?a:a&&a.va};rm.prototype.getFloor=rm.prototype.Lc;\nrm.prototype.a=0;rm.prototype.Yb=function(){++this.a};rm.prototype.retain=rm.prototype.Yb;rm.prototype.m=function(){var a=--this.a,b;a||(b=this.Lc(),this.isFloorSpace()?b.Ya&&(b.a(b.Ya),b.Ya=null,sm(b)):b&&(delete b.l[this.qa()],b.c.a(this),sm(b)));return 1>a};rm.prototype.release=rm.prototype.m;function tm(){}tm.prototype.parse=function(){};q(\"H.service.remote.IParser.prototype.parse\",tm.prototype.parse);function um(a,b,c){Q.call(this,km(a));this.g=c;this.Ya=new rm(a,b.id,b);this.R(this.Ya);this.c=new Q(km(a));this.R(this.c);this.l={}}v(um,Q);q(\"H.service.venues.Floor\",um);um.prototype.na=function(){return this.g};um.prototype.getLevel=um.prototype.na;um.prototype.m=function(){return this.Ya};um.prototype.getFloorSpace=um.prototype.m;um.prototype.O=function(){return this.c};um.prototype.getSpaces=um.prototype.O;um.prototype.I=function(){return this.va};um.prototype.getBuilding=um.prototype.I;\num.prototype.getData=function(){return this.Ya&&this.Ya.getData()};um.prototype.getData=um.prototype.getData;um.prototype.f=function(a){this.Ya.f(a);return this};um.prototype.setData=um.prototype.f;um.prototype.Af=function(a){return this.l[a]};um.prototype.getSpace=um.prototype.Af;function sm(a){if(!a.c.b&&!a.Ya){var b=a.I(),c=a.g;c===b.c&&(b.c=0);delete b.m[c];b.a(a);b.b||(a=b.va,delete a.F[b.qa()],a.a(b),a.b||a.Ia().a(a))}};function vm(){}var wm;vm.prototype.a=Math.PI/180;function xm(a,b){return a&&a.category&&a.category[b||\"id\"]}function ym(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\nvm.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,m,n,r,t,u,y,J={};wm=!1;c=c.replace(/''( )?/g,'$1\\\\\"');try{c=Dl.JSON.parse(c)}catch(U){wm=!0}if(c.length)for(c=ym(c),h=c.length;h--;){k=c[h];l=k.area;n=l.length;t=y=r=void 0;(y=0<n)||(wm=!0,y=void 0);if(y)for(r=Array(n/2);n;)t=l[--n],y=l[--n],r[n/2]=new L(y,t);l=r?[r]:[];k=k.object;r=u=x;if(1!==k.type)switch(n=k.type.replace(\"/polygon\",\"\"),n){case \"floor\":n=r=k.buildingId;(y=a.Wb[n])||(y=new lm(a,n),\ny.aa(a));t=k.buildingMinLevel;u=k.buildingMaxLevel;(n=y.I(r))?n.adjustMinMaxLevels(t,u):(n=new jm(a,r,t,u),r=y,y=n,r.F[y.qa()]=y,r.R(y),n.sc(a.f));0>b.I.indexOf(n)&&b.I.push(n);(y=n.Lc(e))?(n=y.Ya,l=n.Qb(b).concat(l)):(r=y=new um(a,k,e),t=r.g,r.setVisibility(t===n.c),n.m[t]=r,n.R(r),n=y.Ya,f&&f(n),t=xm(y.getData(),\"profileKey\"),u=d.Ga(t,void 0),n.$(u.floor));J[k.id]=y;0>g.indexOf(n)&&g.push(n);qm(n,b,l,-1);break;case \"hollow\":r=\"hollow-area\";case \"space\":if(m=k.id,y=J[/_d$/.test(k.outerAreaId)?k.outerAreaId:\nk.outerAreaId+\"_d\"])n=y.Af(m),t=xm(y.getData(),\"profileKey\"),r=r||xm(n?n.getData():k),n||(u=n=new rm(a,m,k),y.l[u.qa()]=u,y.c.R(u),u=d.Ga(t,r),n.$(u.space),f&&f(n)),n.Yb(),(k=k.label)&&k.firstLinePos?(u=u||d.Ga(t,r),r=n.Zg,k=[{lines:Pa(k.text,\"\\n\"),angle:k.rotation*this.a,font:k.font.face,size:k.font.size,lineHeight:k.font.lineHeight,color:r&&r.fillColor||u.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}]):k=null,g.push(n),qm(n,b,l,-1,k)}}else wm=!0;return wm?void 0:{spatials:g}};\nq(\"H.service.venues.Parser.prototype.parse\",vm.prototype.parse);function zm(a,b){var c=b||{};if(!(a&&a instanceof Am))throw Error(\"InvalidArgument: service required\");this.se=z(this.se,this);this.b=new am(a,new vm,{min:16,max:20,onSpaceCreated:c.onSpaceCreated});this.b.aa(this);this.re=z(this.re,this);this.b.addEventListener(\"update\",this.re);this.Ge=z(this.Ge,this);this.b.addEventListener(\"reload\",this.Ge);this.Fe=z(this.Fe,this);this.b.addEventListener(\"error\",this.Fe);this.te=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.f=lg(this.tileSize,this.te);\nM.call(this,{min:16,max:20});this.C(new ng(c.tileCacheSize||256,z(this.se,this)))}v(zm,M);q(\"H.service.venues.TileProvider\",zm);p=zm.prototype;p.te=1;p.re=function(){this.dispatchEvent(\"update\")};p.Fe=function(){this.dispatchEvent(\"error\")};p.Ge=function(){this.i(!0)};p.se=function(a,b){var c,d,e;c=b.a;for(e=c.length;e--;)d=c[e],delete d.Xb[b.key],d.m();b.data&&Kl.push(b.l(),this.tileSize);b.m()};p.sc=function(a){this.b.sc(a)};zm.prototype.setCurrentLevel=zm.prototype.sc;zm.prototype.I=function(){return this.b.f};\nzm.prototype.getCurrentLevel=zm.prototype.I;zm.prototype.requestInternal=function(a,b,c,d){var e;this.c.get(this.getTileKey(a,b,c))?d(null,null):e=Dl.setTimeout(function(){d(null,null)},500);return{cancel:function(){Dl.clearTimeout(e)}}};zm.prototype.createTileInternal=function(a,b,c){var d=Kl.pop(this.tileSize),e=this.c.get(this.getTileKey(a,b,c));e||(e=new Tl(this.B(a,b,c),a,b,c,this.tileSize,this.te,c+this.f,this.b));e.ca(d)||Kl.push(d,this.tileSize);return e};function Am(a){var b=xl.venues;a=wl(b,a||{});F.call(this);this.f=b.baseUrl;this.a=a.path;this.j=a.subDomain;this.u=b.shards}v(Am,F);q(\"H.service.venues.Service\",Am);var Bm={ERROR:-1,INIT:0,READY:1};Am.State=Bm;\nAm.prototype.g=function(a,b,c,d,e){this.c=(this.f||e).clone();this.l=this.c.clone().pa(\"js\").S(\"statics/venues\").tc();this.j&&this.c.pa(this.j);this.la&&this.c.pa(this.la);this.a&&this.c.bb(this.a);a=xl.venueSignature;b=this.c.clone();b.pa(a.subDomain);b.S(a.path);b.S(a.version);this.s=b;this.o=this.c.clone();this.N===Bm.INIT&&this.b();return this};Am.prototype.configure=Am.prototype.g;function bm(a){return a.N===Bm.READY}Am.prototype.Z=function(){return bm(this)?this.c:void 0};\nAm.prototype.b=function(){var a=this;(new Yg(\"application/json\",this.s.toString())).then(function(b){var c=b.SignatureTokens,d=(b=new Date(b.Expires))?b.getTime()-Aa()-36E5:0;a.c.W(c);b&&4E9>d&&Dl.setTimeout(z(a.b,a),Math.max(d,0));Cm(a,Bm.READY)},function(b){Cm(a,Bm.ERROR,b)})};Am.prototype.m=function(a,b,c){var d=xl.venuesDiscovery;a=this.o.clone().pa(d.subDomain).S(d.path).S(d.version).W(wl(a,d.params));(new Yg(\"application/json\",a.toString())).then(b,c)};Am.prototype.discover=Am.prototype.m;\nAm.prototype.i=function(a){return new Gg(new zm(this,a))};Am.prototype.createTileLayer=Am.prototype.i;Am.prototype.N=Bm.INIT;Am.prototype.getState=function(){return this.N};Am.prototype.getState=Am.prototype.getState;function Cm(a,b,c){var d=new sc(\"statechange\",a);c&&(d.errorCode=c);a.N=b;a.dispatchEvent(d)}V.prototype.u=function(a){return this.a(new Am(a))};V.prototype.getVenueService=V.prototype.u;var Dm={subDomain:\"venue.maps\",path:\"\",shards:Pa(\"1 2 3 4\").map(function(a){return\"static-\"+a})};\nxl.venues=Dm;xl.venueSignature={version:\"v1\",subDomain:\"signature\",path:\"venues/signature\"};xl.venuesDiscovery={version:\"v1\",subDomain:\"discovery\",path:\"venues/discovery\"};var Em={};function km(a){Em.provider=a;return Em};function Fm(){this.a={}}Fm.prototype.ib=function(a,b){var c=a+b,d,e,f;if(!(d=this.a[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if(\"CLOSURE\"!==a)switch(d=Gm,a){case \"CONGESTION\":d=d.replace(\"{{icon}}\",Hm);break;case \"ROADWORKS\":d=d.replace(\"{{icon}}\",Im);break;case \"ACCIDENT\":d=d.replace(\"{{icon}}\",Jm);break;default:d=d.replace(\"{{icon}}\",Km)}else d=Lm,f.anchor.y=16;e=Mm[b]||Mm.BLOCKING;d=d.replace(\"{{color}}\",e);this.a[c]=d=new O(d,f)}return d};\nvar Mm={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},Hm='<path d=\"m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6\" fill=\"#ffffff\" />',\nIm='<path d=\"m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7\" fill=\"#ffffff\" />',Jm=\n'<path d=\"m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z\" fill=\"#ffffff\" />',\nKm='<path d=\"m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3\" fill=\"#ffffff\" />',Gm='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2\" style=\"fill:#878787\"/><path d=\"m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z\" stroke=\"#fff\" stroke-width=\"1\" fill=\"{{color}}\" />{{icon}}</svg>',\nLm='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"13\" cy=\"15\" r=\"11\" fill=\"{{color}}\" stroke=\"#ffffff\" stroke-width=\"1\"/><rect x=\"6\" y=\"13\" width=\"14\" height=\"5\" fill=\"#ffffff\" /></svg>';function Nm(a,b,c){c=c?c:{};c.criticality||(c.criticality=\"major,critical\");if(!(a instanceof zl))throw Error(\"IllegalArgument: service\");xg.call(this,{max:20,min:8,requestData:z(this.oa,this)});this.G=new Fm;this.L=a;this.b=c;this.i=z(this.i,this);this.T=setInterval(this.i,b||18E4)}v(Nm,xg);q(\"H.service.TrafficIncidentsProvider\",Nm);Nm.prototype.f={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nNm.prototype.oa=function(a,b,c,d,e){var f=this,g=this.f,h=this.G;return this.L.b(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,r,t;if(a)for(a=a.TRAFFIC_ITEM,t=a.length;t--;){c=a[t];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case \"ACCIDENT\":case \"CONGESTION\":r=e;break;case \"CONSTRUCTION\":r=\"ROADWORKS\";break;default:r=\"OTHER\"}r=h.ib(r,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new Oh({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:r});e.f(c);b.push(e)}d(b)},e,this.b)};\nNm.prototype.J=function(){xg.prototype.J.call(this);clearInterval(this.T)};function Om(a){var b;if(a)for(this.a={},b=a.length;b--;)this.a[a[b]]=!0;this.wg={}}var Pm;Om.prototype.a={};Om.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Pm=!1;try{c=Dl.JSON.parse(c)}catch(l){Pm=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.a[e]&&(f=Qm[e]))(g=d[e])||(Pm=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var m;(m=g[c])||(Pm=!0,m=void 0);(h=m)&&f(b,a,this,e,h,k)}}else Pm=!0;return Pm?void 0:k};q(\"H.service.metaInfo.Parser.prototype.parse\",Om.prototype.parse);\nvar Qm={\"street labels\":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Pm=!0,g=void 0);if(g){var h=g.length,k,l,m;(l=0<h)||(Pm=!0,l=void 0);if(l)for(k=Array(h/2);h;)m=g[--h],l=g[--h],k[h/2]=new L(l,m);k=k?[k]:[];h=+e[\"font size\"]/a.Ib;g=c.wg[h];g||(Rm.lineWidth=h,g=c.wg[h]=c.Xa.f(Rm));Sm(a,b,k,!1,g,e,d,f,-1)}delete e.vertices},\"city center labels\":function(a,b,c,d,e,f){Sm(a,b,Tm(e,[]),!0,c.Xa,e,d,f,-1)},labels:function(a,b,c,d,e,f){var g;(g=e[\"bounding boxes\"])||(Pm=!0,g=void 0);if(g){for(var h=g.length,\nk=[],l;h--;){var m;(m=g[h])||(Pm=!0,m=void 0);(l=m)&&Tm(l,k)}Sm(a,b,k,!0,c.Xa,e,d,f,-1)}delete e[\"bounding boxes\"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.Wb[g],k,l,m,n=[],r=[];(k=e)||(Pm=!0,k=void 0);if(k&&((l=k.vertices)||(Pm=!0,l=void 0),l)){var t;(t=k.polygons)||(Pm=!0,t=void 0);(m=t)&&n.push.apply(n,Um(l,m));(k=k.outlines)||(Pm=!0,k=void 0);(m=k)&&r.push.apply(r,Um(l,m))}m=n.length;n.push.apply(n,r);(r=n.length)||(Pm=!0,r=void 0);r&&(h?(qm(h,a,n,m),f.spatials.push(h)):(h=Sm(a,b,n,!0,\nc.Xa,e,d,f,m,g),b.R(h)))}};Qm[\"transit stops\"]=Qm.POIs=Qm.labels;var Vm=[\"box 2\",\"box 1\",\"annotation box\",\"icon box\"];function Tm(a,b){for(var c=Vm.length,d,e;c--;)if(d=Vm[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.push([new L(f,g),new L(f+h,g),new L(f+h,g+e),new L(f,g+e)]);delete a[d]}return b}function Um(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Pm=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new L(a[h],a[h+1]);return e||[]}var Wm={};\nfunction Sm(a,b,c,d,e,f,g,h,k,l){Wm.style=e;d=new mm(b,d,l,Wm);qm(d,a,c,k);Xm(f);f.category=g;d.f(f);h.spatials.push(d);d.aa(b);return d}Om.prototype.Xa=new We({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0});var Rm={};function Xm(a){var b,c=!1;switch(typeof a){case \"object\":if(a instanceof Array)for(b=a.length;b--;)Xm(a[b])?c=!0:delete a[b];else if(a)for(b in a)Xm(a[b])?c=!0:delete a[b];break;case \"number\":c=!0;break;default:c=!!a}return c};function Ym(a,b,c){c=c||{};b=b||{};var d=c.tileType||\"maptile\",e=c.$h||\"normal.day\";M.call(this,{min:0,max:20});!0===b.pois&&(b.pois=\"!F\");this.b=b;if(!(a&&a instanceof Zm))throw Error(\"InvalidArgument: service required\");this.L=a;this.G=z(this.G,this);this.L.addEventListener(\"versionupdate\",this.G);this.f=a.Z().clone().S(d+\"/\"+a.sb()+\"/\"+e).W(this.T).W(b);this.oa=a.j||null;this.ga=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.tileType=d;this.scheme=e;this.I=new Vl(new Om(c.categoryFilter));\nthis.I.aa(this);this.O=z(this.O,this);this.I.addEventListener(\"update\",this.O);M.call(this,{min:0,max:20});this.C(new ng(c.tileCacheSize||256,z(this.Fa,this)))}v(Ym,M);q(\"H.service.metaInfo.TileProvider\",Ym);Ym.prototype.Fa=function(a,b){for(var c=b.a,d=c.length,e;d--;)e=c[d],delete e.Xb[b.key],e.m();b.data&&(Kl.push(b.l(),this.tileSize),b.m())};Ym.prototype.O=function(){this.dispatchEvent(\"update\")};\nYm.prototype.requestInternal=function(a,b,c,d,e){var f=this.f.clone(),g=this.oa,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.c.get(k),l,m;if(k&&!k.Nc())d(Kl.pop(this.tileSize),null),l={cancel:function(){}};else{g&&f.pa(g[(c+b+a)%g.length]);f.S(c+\"/\"+a+\"/\"+b+\"/\"+h+\"/png8\");var n=Dl.setTimeout(function(){m=new nh(f.toString(),function(a,b){b?e():d(null,a)})},500)}return l||{cancel:function(){m||Dl.clearTimeout(n)}}};\nYm.prototype.createTileInternal=function(a,b,c,d,e){var f=this.I,g;g=d||Kl.pop(this.tileSize);if(d)a=this.c.get(this.getTileKey(a,b,c)),a.ca(d);else if(d=a=new Xj(this.B(a,b,c),a,b,c,this.tileSize,this.ga,c+0,f),delete d.j,d.o=e,a.ca(g))for(e=a.a,g=e.length;g--;)e[g].Yb();else Kl.push(g,this.tileSize);return a};Ym.prototype.J=function(){this.I.J();this.L.removeEventListener(\"versionupdate\",this.G);M.prototype.J.call(this)};\nYm.prototype.G=function(){var a=this.L;this.f=a.Z().clone().S(this.tileType+\"/\"+a.sb()+\"/\"+this.scheme).W(this.T).W(this.b);this.i(!1)};Ym.prototype.T={metadata:\"metaonly\",mgen:\"2\"};function Zm(a){a=wl(xl.maptile,a||{});F.call(this);this.f=a.baseUrl;this.a=a.path;this.i=a.subDomain;this.j=a.shards;this.la=(this.s=!!a.ignoreTypes)?null:a.type;this.b=a.version;this.u=new Al}v(Zm,F);q(\"H.service.metaInfo.Service\",Zm);function $m(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}Zm.prototype.g=function(a,b,c,d,e){this.c=(this.f||e).clone();this.i&&this.c.pa(this.i);this.la&&this.c.pa(this.la);this.a&&this.c.bb(this.a);\"newest\"===this.b&&an(this);return this};\nZm.prototype.configure=Zm.prototype.g;Zm.prototype.Z=function(){return this.c};Zm.prototype.sb=function(){return this.b};Zm.prototype.getVersion=Zm.prototype.sb;Zm.prototype.xa=function(){return this.u};Zm.prototype.getCopyrights=Zm.prototype.xa;\nfunction an(a){var b=a.Z().clone().S(\"info\").W({output:\"json\"});a.j&&b.pa(a.j[0]);tl({url:b,bd:\"callback_func\",ac:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,\"]\")).response;var d;$m(b,\"map\");$m(b,\"scheme\");$m(b,\"tiletype\");$m(b,\"format\");$m(b,\"resolution\");$m(b,\"language\");if(\"newest\"===a.b&&\"traffic\"!==a.la)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.b=b.maps[d].hash,a.dispatchEvent(\"versionupdate\"));a.l=b;a.dispatchEvent(\"infoupdate\")},Jc:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+\nb.toString());},Me:!0})}Zm.prototype.B=function(){return this.l};Zm.prototype.getInfo=Zm.prototype.B;Zm.prototype.o=function(a,b,c,d,e,f){return new Ym(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c,tileType:e,scheme:f})};Zm.prototype.createTileProvider=Zm.prototype.o;Zm.prototype.m=function(a,b,c,d,e,f){a=this.o(a,b,c,d,e,f);return new Gg(a)};Zm.prototype.createTileLayer=Zm.prototype.m;\nV.prototype.m=function(a){var b;b=wl(xl.metainfotile,a||{});var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=Cl(c);c=this.b[\"meta\"+b];c||(c=this.a(new Zm(a)),this.b[\"meta\"+b]=c);return c};V.prototype.getMetaInfoService=V.prototype.m;xl.metainfotile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};V.prototype.F=function(a,b,c,d,e,f){var g=this.c(),h=this.c({type:\"aerial\"}),k=this.c({type:\"traffic\"}),l=this.c({type:\"pano\"}),m=this.m(),n=this.o(),r=this.u(),t={},u={crossOrigin:\"anonymous\"},y;\"object\"===typeof a&&(f=a,u.crossOrigin=\"crossOrigin\"in f?f.crossOrigin:\"anonymous\",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;y=320===b?2:1;320===b&&(t.ppi=b);c&&(t.lg=c);d&&(t.lg2=d);e&&(t.style=e);f&&(t.pois=f);b=new Nm(n,void 0,c?t:null);this.O=new Mg(b);return{normal:{xbase:g.b(\"xbasetile\",\n\"normal.day\",a,\"png8\",t,1,!1,u),xbasenight:g.b(\"xbasetile\",\"normal.night\",a,\"png8\",t,1,!1,u),base:g.b(\"basetile\",\"normal.day\",a,\"png8\",t,1,!1,u),basenight:g.b(\"basetile\",\"normal.night\",a,\"png8\",t,1,!1,u),map:g.b(\"maptile\",\"normal.day\",a,\"png8\",t,1,!1,u),mapnight:g.b(\"maptile\",\"normal.night\",a,\"png8\",t,1,!1,u),traffic:k.b(\"traffictile\",\"normal.day\",a,\"png8\",t,1,!1,u),trafficnight:k.b(\"traffictile\",\"normal.night\",a,\"png8\",t,1,!1,u),transit:g.b(\"maptile\",\"normal.day.transit\",a,\"png8\",t,1,!1,u),panorama:l.b(\"rctile\",\n\"normal.day\",a,\"png8\",t,1,!1,u),panoramanight:l.b(\"rctile\",\"normal.night\",a,\"png8\",t,1,!1,u),labels:g.b(\"labeltile\",\"normal.day\",a,\"png\",t,1,!1,u),metaInfo:m.m(a,y,[\"buildings\"],t)},satellite:{xbase:h.b(\"xbasetile\",\"hybrid.day\",a,\"jpg\",t,1,!0,u),base:h.b(\"basetile\",\"hybrid.day\",a,\"jpg\",t,1,!0,u),map:h.b(\"maptile\",\"hybrid.day\",a,\"jpg\",t,1,!0,u),traffic:k.b(\"traffictile\",\"hybrid.day\",a,\"jpg\",t,1,!0,u),panorama:l.b(\"rctile\",\"hybrid.day\",a,\"jpg\",t,1,!0,u),labels:h.b(\"labeltile\",\"hybrid.day\",a,\"png\",t,\n1,!0,u)},terrain:{xbase:h.b(\"xbasetile\",\"terrain.day\",a,\"jpg\",t,1,!1,u),base:h.b(\"basetile\",\"terrain.day\",a,\"jpg\",t,1,!1,u),map:h.b(\"maptile\",\"terrain.day\",a,\"jpg\",t,1,!1,u),traffic:k.b(\"traffictile\",\"terrain.day\",a,\"jpg\",t,1,!1,u),panorama:l.b(\"rctile\",\"terrain.day\",a,\"jpg\",t,1,!1,u),labels:h.b(\"labeltile\",\"terrain.day\",a,\"png\",t,1,!1,u)},incidents:this.O,venues:r.i({tileSize:a,pixelRatio:y})}};V.prototype.createDefaultLayers=V.prototype.F;function bn(a){a=wl(xl.routing,a);a.callbackKey=\"jsoncallback\";bn.v.constructor.call(this,a)}v(bn,ul);q(\"H.service.RoutingService\",bn);bn.prototype.b=function(a,b,c){a=this.Z().clone().S(\"calculateroute.json\").W(a);vl(this,a,b,c)};bn.prototype.calculateRoute=bn.prototype.b;xl.routing={subDomain:\"route\",path:\"routing/7.2\"};V.prototype.eb=function(a){return this.a(new bn(a))};V.prototype.getRoutingService=V.prototype.eb;function cn(a){a=wl(xl.geocoding,a);a.callbackKey=\"jsoncallback\";cn.v.constructor.call(this,a);this.b=a.reverseSubDomain}v(cn,ul);q(\"H.service.GeocodingService\",cn);cn.prototype.i=function(a,b,c){a=this.Z().clone().S(\"geocode.json\").W(a);return vl(this,a,b,c)};cn.prototype.geocode=cn.prototype.i;cn.prototype.o=function(a,b,c){a=this.Z().clone().S(\"reversegeocode.json\").W(a);this.b&&a.pa(this.b);return vl(this,a,b,c)};cn.prototype.reverseGeocode=cn.prototype.o;\ncn.prototype.m=function(a,b,c){a=this.Z().clone().S(\"search.json\").W(a);return vl(this,a,b,c)};cn.prototype.search=cn.prototype.m;xl.geocoding={subDomain:\"geocoder\",path:\"6.2\",reverseSubDomain:\"reverse\"};V.prototype.Ra=function(a){return this.a(new cn(a))};V.prototype.getGeocodingService=V.prototype.Ra;function dn(a){a=wl(xl.places,a);a.callbackKey=\"callback\";dn.v.constructor.call(this,a)}v(dn,ul);q(\"H.service.PlacesService\",dn);dn.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};dn.prototype.b=function(a,b,c,d){b=b||{};a=this.Z().clone().S(a).W(b);return vl(this,a,c,d)};dn.prototype.request=dn.prototype.b;dn.prototype.B=function(a,b,c){return this.b(\"discover/search\",a,b,c)};\ndn.prototype.search=dn.prototype.B;dn.prototype.A=function(a,b,c){return this.b(\"suggest\",a,b,c)};dn.prototype.suggest=dn.prototype.A;dn.prototype.o=function(a,b,c){return this.b(\"discover/explore\",a,b,c)};dn.prototype.explore=dn.prototype.o;dn.prototype.i=function(a,b,c){return this.b(\"discover/around\",a,b,c)};dn.prototype.around=dn.prototype.i;dn.prototype.u=function(a,b,c){return this.b(\"discover/here\",a,b,c)};dn.prototype.here=dn.prototype.u;\ndn.prototype.m=function(a,b,c){return this.b(\"categories/places\",a,b,c)};dn.prototype.categories=dn.prototype.m;dn.prototype.s=function(a,b,c,d){a=pl(a);d&&a.W(d);return vl(this,a,b,c)};dn.prototype.follow=dn.prototype.s;xl.places={subDomain:\"places\",path:\"places/v1\"};V.prototype.M=function(){return this.a(new dn)};V.prototype.getPlacesService=V.prototype.M;function en(a){a=wl(xl.enterpriseRouting,a);a.callbackKey=\"jsoncallback\";if(!B(a.baseUrl,T))throw new C(en,0,\"Invalid base url\");this.o=a;en.v.constructor.call(this,a)}v(en,ul);q(\"H.service.EnterpriseRoutingService\",en);en.prototype.u=function(a,b,c){a=this.Z().clone().S(\"calculateroute.json\").W(a);vl(this,a,b,c)};en.prototype.calculateRoute=en.prototype.u;en.prototype.m=function(a,b,c){a=this.Z().clone().S(\"getroute.json\").W(a);vl(this,a,b,c)};en.prototype.getRoute=en.prototype.m;\nen.prototype.i=function(a,b,c){a=this.Z().clone().S(\"getlinkinfo.json\").W(a);vl(this,a,b,c)};en.prototype.getLinkInfo=en.prototype.i;en.prototype.b=function(a,b,c){a=this.Z().clone().S(\"calculateisoline.json\").W(a);vl(this,a,b,c)};en.prototype.calculateIsoline=en.prototype.b;en.prototype.g=function(a,b,c,d,e){var f,g=xl.enterpriseRouting;this.o.baseUrl===g.baseUrl&&e&&(f=e.clone(),f.zb(g.host),d&&f.pa(g.citSubDomain));return ul.prototype.g.apply(this,[a,b,c,d,f])};en.prototype.configure=en.prototype.g;\nvar fn={subDomain:\"route\",path:\"routing/6.2\",baseUrl:new T(\"http\",\"nlp.nokia.com\"),host:\"nlp.nokia.com\",citSubDomain:\"st\"};xl.enterpriseRouting=fn;V.prototype.G=function(a){return this.a(new en(a))};V.prototype.getEnterpriseRoutingService=V.prototype.G;function gn(){}q(\"H.service.extension.util.ICharStream\",gn);gn.prototype.next=function(){};function hn(a){this.b=String(a);this.c=0;this.a=[]}q(\"H.service.extension.util.CharStream\",hn);hn.prototype.next=function(){var a=this.b.charCodeAt(this.c++);return isNaN(a)?-1:a};function jn(){}q(\"H.service.extension.dataView.ITable\",jn);jn.prototype.getMeta=jn.prototype.zf;jn.prototype.getRowCount=jn.prototype.g;jn.prototype.getRow=jn.prototype.a;jn.prototype.getColumnNames=jn.prototype.c;jn.prototype.getColumn=jn.prototype.f;jn.prototype.getCell=jn.prototype.b;jn.prototype.concat=jn.prototype.concat;function kn(){}q(\"H.service.extension.dataView.IColumn\",kn);kn.prototype.getCell=kn.prototype.a;function ln(){}q(\"H.service.extension.dataView.IRow\",ln);ln.prototype.getColumnNames=ln.prototype.b;ln.prototype.getCell=ln.prototype.a;function mn(a,b){this.c=a;this.f=b}q(\"H.service.extension.dataView.ObjRow\",mn);mn.prototype.b=function(){return this.c.c()};mn.prototype.getColumnNames=mn.prototype.b;mn.prototype.a=function(a){return this.c.b(this.f,a)};mn.prototype.getCell=mn.prototype.a;function nn(a,b){this.c=a;this.b=b}q(\"H.service.extension.dataView.ObjColumn\",nn);nn.prototype.a=function(a){return this.c.b(a,this.b)};nn.prototype.getCell=nn.prototype.a;function on(a,b){var c,d,e;if(a&&a.length)for(this.xb=a,this.Ec=c=w.Object.keys(this.xb[0]),this.rf=d=Ka(),e=c.length;e--;)d[c[e]]=!0;b!==A&&(this.ye=b)}q(\"H.service.extension.dataView.ObjTable\",on);p=on.prototype;p.ye=A;p.xb=A;p.Ec=A;p.rf=A;p.zf=function(){return this.ye};on.prototype.getMeta=on.prototype.zf;on.prototype.g=function(){return this.xb?this.xb.length:0};on.prototype.getRowCount=on.prototype.g;on.prototype.a=function(a){var b=this.xb;return b&&b[a]?new mn(this,a):A};\non.prototype.getRow=on.prototype.a;on.prototype.c=function(){return this.Ec||te};on.prototype.getColumnNames=on.prototype.c;on.prototype.f=function(a){return this.rf[a]?new nn(this,a):A};on.prototype.getColumn=on.prototype.f;on.prototype.b=function(a,b){var c=this.xb;return(c=c&&c[a])&&c[b]};on.prototype.getCell=on.prototype.b;\non.prototype.concat=function(){var a=arguments.length,b,c=this.Ec,d=\"\"+this.Ec,e=(this.xb||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof on))throw new C(this.concat,b);if(f.xb){if(c&&\"\"+f.Ec!==d)throw new C(this.concat,b,\"Incompatible columns!\");e=e.concat(f.xb)}}return new on(e,this.ye)};on.prototype.concat=on.prototype.concat;function pn(a,b,c,d){if(!a||!qa(a.layer)||!Ya(a.level)||a.rowFilter!==A&&!ra(a.rowFilter)||a.rowFilterContext!==A&&!sa(a.rowFilterContext))throw new C(b,c,d!==A?d:a);};function qn(a,b,c){var d;B(a,rn,qn,0,\"has invalid type\");B(b,E,qn,1,\"has invalid type\");if(!Wa(c))throw new C(qn,2,\"has invalid type\");for(d=0;d<c.length;d++)pn(c[d],qn,2,\"has invalid type\");qn.v.constructor.call(this);this.a=b;this.b=c;(new ch).Id(sn,\"H.service.extension.platformData.worker.processor\");a=a.Z().clone().S(tn+\".\"+un).W({meta:\"1\"});new eh(sn,{message:[vn,0,{serverUrl:a.toString()}]})}v(qn,F);q(\"H.service.extension.platformData.SearchRequest\",qn);\nqn.prototype.send=function(){var a=sn,b=vn,c=[],d,e,f;for(f=0;f<this.b.length;f++)d=this.b[f],c.push({layer:d.layer,level:d.level,rowFilter:d.rowFilter!==A?d.rowFilter+\"\":A,rowFilterContext:d.rowFilterContext,columns:d.columns});e=[this.a.ia,this.a.ba,this.a.ha,this.a.ea,c];this.c=w.setTimeout(z(function(){(new eh(a,{message:[b,2,e]})).then(z(wn,this),z(xn,this))},this),1)};qn.prototype.send=qn.prototype.send;qn.prototype.cancel=function(){w.clearTimeout(this.c)};qn.prototype.cancel=qn.prototype.cancel;\nfunction wn(a){var b,c;for(c=0;c<a.length;c++)b=new on(a[c].Rows,a[c].Meta),this.dispatchEvent(new tc(\"data\",b));this.dispatchEvent(new sc(\"end\"))}function xn(a){this.dispatchEvent(new uc(\"error\",a))}var sn=\"pde\",vn=\"pdeSearchRequestProvider\";function yn(a,b,c){var d=zn,e=a===d.POLYGON,f=a===d.POLYLINE;this.b=b;this.c=c||jc;(this.a=f||e)?this.j=e:this.g=a===d.MARKER;this.f=this.a?An:Bn}var Cn=new We({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0,lineJoin:\"round\",lineCap:\"round\"});\nyn.prototype.parse=function(a,b,c){var d,e,f,g,h,k={},l=[],m,n,r,t;m=0;for(r=c.length;m<r;m++)if(n=c[m],d=n.Rows.length)for(e=new on(n.Rows),t=0;t<d;t++)if(f=n.Rows[t],h=f[this.f]){delete f[this.f];try{if(this.a){f=a;for(var u=b,y=e.a(t),J=[],U=h.length,da=this.b&&this.b(y),ea=void 0,ea=new mm(f,this.j,A,{style:da||Cn,data:y});U--;)J.push(Dn(h[U]));qm(ea,u,J);g=ea}else{f=a;var jb=e.a(t),la=h[0],Ia=new Yb(la[0],la[1]),ya=this.b&&this.b(jb);h=u=void 0;this.g?(u={icon:ya,data:jb,provider:f},h=new Oh(Ia,\nu)):(u={icon:ya,data:jb,provider:f},h=new yg(Ia,u));g=h}g.aa(a);l.push(g)}catch(Jc){this.c(Jc.message)}}else this.c(\"Layer must contain geometries\");k[this.a?\"spatials\":this.g?\"markers\":\"domMarkers\"]=l;return k};function Dn(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new L(a[b++],a[b++]));return d}var Bn=\"geometry\",An=\"projGeometry\";function En(a,b,c){var d=this,e=b&&b.rowFilter,f=c||{},g=f.tileCacheSize||1024;c=f.resultType;var h=f.styleCallback,k=zn;f.min!==A||(f.min=12);En.v.constructor.call(this,f);B(a,rn,En,0);if(-1===Fn.indexOf(c))throw new C(En,2,\"invalid resultType\");this.b=c;pn(b,En,1,\"invalid layer config\");e&&(b=Oa(b),b.rowFilter=e.toString());if(h&&!ra(h))throw new C(En,2,\"invalid style callback\");this.T=f.pixelRatio||1;this.I=z(this.I,this);this.f=new Vl(new yn(c,h,this.I));this.f.aa(this);this.f.addEventListener(this.A.fa,\nz(this.ga,this));this.f.L=!0;this.C(new ng(g,z(this.oa,this)));this.createTileInternal=c===k.POLYLINE||c===k.POLYGON?z(this.O,this):z(this.L,this);(new ch).Id(\"pde\",\"H.service.extension.platformData.worker.processor\");a=a.Z().clone().S(tn+\".\"+un).W({meta:1});(new eh(\"pde\",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,polylineClippingMode:c===k.POLYLINE,serverUrl:a.toString(),layerConfigs:[b]}]})).then(function(){d.G=!0;jg(d)},this.I)}v(En,M);\nq(\"H.service.extension.platformData.TileProvider\",En);En.prototype.oa=function(a,b){var c,d;c=zn;if(this.b===c.POLYLINE||this.b===c.POLYGON){c=b.a;for(d=c.length;d--;)delete c[d].Xb[b.key];b.data&&(Kl.push(b.l(),this.tileSize),b.m())}else for(c=b.data,d=c.length;d--;)delete c[d].$e};En.prototype.I=function(a){this.dispatchEvent(new uc(\"error\",a,this))};var Gn=O.prototype.zc.READY;En.prototype.G=!1;En.prototype.requestTile=function(a,b,c,d){return this.G?En.v.u.call(this,a,b,c,d):A};\nEn.prototype.j=function(){return this.b===zn.MARKER};En.prototype.providesMarkers=En.prototype.j;En.prototype.g=function(){return this.b===zn.DOM_MARKER};En.prototype.providesDomMarkers=En.prototype.g;En.prototype.o=function(){return this.b===zn.POLYLINE||this.b===zn.POLYGON};En.prototype.providesSpatials=En.prototype.o;\nEn.prototype.requestInternal=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.c.get(g),k={cancel:jc},l=!0,m,n=zn;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.Nc()||(d(Kl.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=Dl.setTimeout(function(){h=(new eh(\"pde\",{message:[f.uid,1,[a,b,c]]})).then(d,e)},500),k.cancel=function(){h?h.cancel():Dl.clearTimeout(m)});return k};\nEn.prototype.L=function(a,b,c,d){var e=this.getTileKey(a,b,c),e=this.c.get(e),f=this.b==zn.DOM_MARKER,g=[];e?e.valid=!0:(a=e=new sg(a,b,c,x),delete a.j,a.o=d);d=f?Zl(this.f,e,\"domMarkers\"):Zl(this.f,e,\"markers\");for(b=d.length;b--;)a=d[b],a.$e=e,(f||a.ib().getState()===Gn)&&g.push(a);e.data=g;return e};En.prototype.ga=function(a){if(a=a.target.$e)a.valid=!1};\nEn.prototype.O=function(a,b,c,d){var e=this.f,f,g=this.getTileKey(a,b,c),h=this.c.get(g);f=Kl.pop(this.tileSize);h||(a=h=new Xj(g,a,b,c,this.tileSize,this.T,c,e),delete a.j,a.o=d);h.ca(f)||Kl.push(f,this.tileSize);return h};En.prototype.D=function(){En.v.D.call(this);this.f.J();new eh(\"pde\",{message:[this.uid,3]})};var zn={MARKER:0,DOM_MARKER:1,POLYLINE:2,POLYGON:3};En.ResultType=zn;var Fn=[zn.MARKER,zn.DOM_MARKER,zn.POLYLINE,zn.POLYGON];function rn(a){rn.v.constructor.call(this,wl(xl.pde,a||{}))}v(rn,ul);q(\"H.service.extension.platformData.Service\",rn);rn.prototype.b=function(a,b,c,d,e){var f;if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);if(!d)throw new C(this.b,3,b);if(!e)throw new C(this.b,4,b);a=this.Z().clone().S(a+\".\"+b).W(c);f=new nh(a.toString(),function(a,b){b?e(b):d(a)});return{cancel:function(){f.c()}}};rn.prototype.request=rn.prototype.b;xl.pde={subDomain:\"pde\",path:\"1\"};var tn=\"tiles\";\nrn.EntryPoint={DOC_ATTRIBUTES:\"doc/attributes\",DOC_LAYER:\"doc/layer\",DOC_LAYERS:\"doc/layers\",DOC_MAPS:\"doc/maps\",DOC_INDEXES:\"doc/indexes\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SERVICE_CONFIGURATION:\"serviceconfiguration\",STATIC:\"static\",TILE:\"tile\",TILES:tn,FILE:\"file\",INDEX:\"index\"};var un=\"json\";rn.EntryPointType={TXT:\"txt\",JSON:un,HTML:\"html\",BIN:\"bin\"};\nrn.prototype.i=function(a,b){var c=b&&b.resultType,d=new En(this,a,b),e,f=zn;c==f.MARKER||c===f.DOM_MARKER?e=new Mg(d):e=new Gg(d);return e};rn.prototype.createTileLayer=rn.prototype.i;V.prototype.L=function(a){var b;b=wl(xl.pde,a||{});var c;c=\"\"+(b.path||\"\");c+=b.subDomain||\"\";c+=b.baseUrl?b.baseUrl.toString():\"\";b=Cl(c);c=this.b[\"pde\"+b];c||(c=this.a(new rn(a)),this.b[\"pde\"+b]=c);return c};V.prototype.getPlatformDataService=V.prototype.L;q(\"H.service.buildInfo\",function(){return Tg(\"mapsjs-service\",\"0.13.1\",\"f2f6c6a\")});\n");